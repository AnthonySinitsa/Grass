#pragma kernel CSMain

struct GrassBlade
{
    float3 position;
};

RWStructuredBuffer<GrassBlade> grassBuffer;

int chunkSize;
int grassDensity;

[numthreads(10, 1, 1)]
void CSMain(uint3 id : SV_DispatchThreadID)
{
    if (id.x >= (uint)grassDensity) return;

    GrassBlade blade;

    // Place blade within chunk with uniform spacing
    float3 position = float3((id.x % chunkSize) + 0.5f, 0.1, (id.x / chunkSize) + 0.5f);
    blade.position = position;

    grassBuffer[id.x] = blade;
}
